$(document).ready(function(){filterPost={order_status:["已付款","制作中","已发货","维修中","已关闭","未付款"],from_create_date:"2015-01-01",to_create_date:"2016-01-01",product_id:[1,2,3,4,5,6],special_need:["特殊加工","无特殊加工"],delivery_date:"",status:["普通","加急"],ship_from:["北京","深圳","未定"],ship_date:"",invoice_category:[0,1,2],express_status:["已发货","未发货"],payment_method:["支付宝","微信"],recipient:"",address_phonenum:"",phonenum:"",order_id:"",express_id:"",payment_id:"",invoice_express_id:"",page_num:"100",page_id:"1"},$(".search-input").change(function(){switch(filterPost.recipient="",filterPost.address_phonenum="",filterPost.phonenum="",filterPost.order_id="",filterPost.express_id="",filterPost.payment_id="",filterPost.invoice_express_id="",$(".search-select").val()){case"recipient":filterPost.recipient=$(".search-input").val();break;case"address_phonenum":filterPost.address_phonenum=$(".search-input").val();break;case"phonenum":filterPost.phonenum=$(".search-input").val();break;case"order_id":filterPost.order_id=$(".search-input").val();break;case"express_id":filterPost.express_id=$(".search-input").val();break;case"payment_id":filterPost.payment_id=$(".search-input").val();break;case"invoice_express_id":filterPost.invoice_express_id=$(".search-input").val()}console.log(filterPost)}),$(".page-num").click(function(){$(".page-num").removeClass("selected"),$(this).addClass("selected"),filterPost.page_id=$(this).text(),$.orderListAjax(filterPost)}),$(".submit-search").click(function(){$.orderListAjax(filterPost)}),$(".slide-button").click(function(){switch($(".slide-button").removeClass("on"),$(this).addClass("on"),$(".order-status-options").removeAttr("checked"),$(this).attr("name")){case"all":$(".order-status-options").prop("checked","checked");break;case"paid":$("#order_status_paid").prop("checked","checked");break;case"making":$("#order_status_making").prop("checked","checked");break;case"ship":$("#order_status_ship").prop("checked","checked");break;case"fix":$("#order_status_fix").prop("checked","checked");break;case"close":$("#order_status_close").prop("checked","checked")}$("#submit_order_status").click()}),$.filterBoard=function(){function e(e,t){$(".filter-condition").each(function(){$(this).hasClass(t)&&$(this).remove()}),$.each(e,function(e,r){$("#filter_detail_tag").append("<span class='filter-condition "+t+"'>\""+r+'"</span>')})}$("#submit_order_status").click(function(){var t=new Array;return $(".order-status-options").each(function(){this.checked&&t.push($(this).val())}),0==t.length?($(this).parent().prev().text("请至少选择一种状态！"),!1):(filterPost.order_status=t,$(this).parent().parent().slideUp(),e(["订单状态"],"order-status-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_order_create").click(function(){var t,r,s=$("#create_from_year").val(),i=$("#create_from_month").val(),a=$("#create_from_day").val(),n=$("#create_to_year").val(),p=$("#create_to_month").val(),o=$("#create_to_day").val();if(console.log(s),!$.verifyYear(s)||!$.verifyYear(n))return $(this).parent().prev().text("请输入正确的年份！"),!1;if($(this).parent().prev().text(""),!$.verifyMonth(i)||!$.verifyMonth(p))return $(this).parent().prev().text("请输入正确的月份！"),!1;if($(this).parent().prev().text(""),!$.verifyDay(a)||!$.verifyDay(o))return $(this).parent().prev().text("请输入正确的日期！"),!1;$(this).parent().prev().text(""),t=s+"-"+i+"-"+a,r=n+"-"+p+"-"+o;var c=new Date(t.replace("-","/")),h=new Date(r.replace("-","/"));return c>h?($(this).parent().prev().text("结束日期不能小于开始日期！"),!1):($(this).parent().prev().text(""),filterPost.from_create_date=t,filterPost.to_create_date=r,$(this).parent().parent().slideUp(),e(["下单日期"],"order-create-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_color").click(function(){var t=new Array;return $(".color-options").each(function(){this.checked&&t.push($(this).val())}),0==t.length?($(this).parent().prev().text("请至少选择一种状态！"),!1):($(this).parent().prev().text(""),filterPost.product_id=t,$(this).parent().parent().slideUp(),e(["产品颜色"],"color-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_special_need").click(function(){var t=new Array;return $(".special-need-options").each(function(){$(this).hasClass("on")&&t.push($(this).text())}),0==t.length?($(this).parent().prev().text("请至少选择一种状态！"),!1):($(this).parent().prev().text(""),filterPost.special_need=t,$(this).parent().parent().slideUp(),e(t,"special-need-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_delivery_date").click(function(){if($("#need_delivery_date").is(":checked"))filterPost.delivery_date="";else{var t=$("#delivery_year").val(),r=$("#delivery_month").val(),s=$("#delivery_day").val();if(!$.verifyYear(t))return $(this).parent().prev().text("请输入正确的年份！"),!1;if($(this).parent().prev().text(""),!$.verifyMonth(r))return $(this).parent().prev().text("请输入正确的月份！"),!1;if($(this).parent().prev().text(""),!$.verifyDay(s))return $(this).parent().prev().text("请输入正确的日期！"),!1;$(this).parent().prev().text("");var i=t+"-"+r+"-"+s;filterPost.delivery_date=i}$(this).parent().parent().slideUp(),e(["交货日期"],"delivery-date-tag"),$.orderListAjax(filterPost),$(this).parent().parent().slideUp()}),$("#submit_status").click(function(){var t=new Array;return $(".status-options").each(function(){$(this).hasClass("on")&&t.push($(this).text())}),0==t.length?($(this).parent().prev().text("请至少选择一种状态！"),!1):($(this).parent().prev().text(""),filterPost.status=t,$(this).parent().parent().slideUp(),e(t,"status-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_ship_from").click(function(){var t=new Array;return $(".ship-from-options").each(function(){$(this).hasClass("on")&&t.push($(this).text())}),0==t.length?($(this).parent().prev().text("请至少选择一种地点！"),!1):($(this).parent().prev().text(""),filterPost.ship_from=t,$(this).parent().parent().slideUp(),e(["发货地点"],"ship-from-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_ship_date").click(function(){if($("#need_ship_date").is(":checked"))filterPost.ship_date="";else{var t=$("#ship_year").val(),r=$("#ship_month").val(),s=$("#ship_day").val();if(!$.verifyYear(t))return $(this).parent().prev().text("请输入正确的年份！"),!1;if($(this).parent().prev().text(""),!$.verifyMonth(r))return $(this).parent().prev().text("请输入正确的月份！"),!1;if($(this).parent().prev().text(""),!$.verifyDay(s))return $(this).parent().prev().text("请输入正确的日期！"),!1;$(this).parent().prev().text("");var i=t+"-"+r+"-"+s;filterPost.ship_date=i}$(this).parent().parent().slideUp(),e(["发货批次"],"ship-date-tag"),$.orderListAjax(filterPost),$(this).parent().parent().slideUp()}),$("#submit_invoice").click(function(){var t=new Array;return $(".invoice-options").each(function(){if($(this).hasClass("on")){var e;switch($(this).text()){case"不需要发票":e=0;break;case"公司":e=2;break;case"个人":e=1}t.push(e)}}),0==t.length?($(this).parent().prev().text("请至少选择一种发票类别！"),!1):($(this).parent().prev().text(""),filterPost.invoice_category=t,$(this).parent().parent().slideUp(),e(["发票信息"],"invoice-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_express_status").click(function(){var t=new Array;return $(".express-status-options").each(function(){$(this).hasClass("on")&&t.push($(this).text())}),0==t.length?($(this).parent().prev().text("请至少选择一种快递状态！"),!1):($(this).parent().prev().text(""),filterPost.express_status=t,$(this).parent().parent().slideUp(),e(["快递信息"],"express-status-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())}),$("#submit_payment_method").click(function(){var t=new Array;return $(".payment-method-options").each(function(){$(this).hasClass("on")&&t.push($(this).text())}),0==t.length?($(this).parent().prev().text("请至少选择一种付款方式！"),!1):($(this).parent().prev().text(""),filterPost.payment_method=t,$(this).parent().parent().slideUp(),e(["支付信息"],"payment-method-tag"),$.orderListAjax(filterPost),void $(this).parent().parent().slideUp())})},$.filterBoard()});